!function(e){var t,r="undefined";function u(t,e,n,a){a?t.addEventListener(e,function(t){t.target&&t.target.matches(a)&&n(t)}):t.addEventListener(e,n)}function i(t,e,n,a){typeof a===r&&(a=function(){});var i,t=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return;return JSON.stringify(t)===JSON.stringify({})}(e)?t:t+(i=e,"?"+Object.keys(i).map(function(t){return t+"="+encodeURIComponent(i[t])}).join("&")),e=new XMLHttpRequest;e.open("GET",t,!0),e.onload=function(){200<=this.status&&this.status<400?n(this.responseText,this.status):a()},e.onerror=function(){a()},e.send()}function c(t){return t.options&&t.multiple?t.options.filter(t=>t.selected).map(t=>t.value):t.value}function f(n,t,e,a){i(vmtvw_localize.ajax_url,{action:"vmtvw_get_ajax_requirement_result",nationality:t,destination:e,agency_id:a.agencyId,affilae_id:a.affilaeId},function(t,e){200===e&&(n.innerHTML=t)})}t=function(){var t=e.querySelectorAll(".vmtvw-wrapper");Array.prototype.forEach.call(t,function(t,e){var n=t.querySelector(".vmtvw-nationality"),a=t.querySelector(".vmtvw-destination"),i=t.querySelector(".vmtvw-result"),r=t.getAttribute("data-agency-id")??"",o=t.getAttribute("data-affilae-id")??"";u(n,"change",function(t){t.preventDefault(),""!==c(this)&&""!==c(a)&&f(i,c(this),c(a),{agencyId:r,affilaeId:o})}),u(a,"change",function(t){t.preventDefault(),""!==c(this)&&""!==c(n)&&f(i,c(n),c(this),{agencyId:r,affilaeId:o})})})},(e.attachEvent?"complete"===e.readyState:"loading"!==e.readyState)?t():e.addEventListener("DOMContentLoaded",t)}(document);